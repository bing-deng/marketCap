(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[194],{kKkJ:function(e,t,o){"use strict";o.r(t);var n=o("ODXe"),a=o("co3k"),r=o("HvWY"),l=o("ttae"),c=o("qh75"),u=o("Jnvx"),i=o("p2Nt"),s=o("q1tI"),d=o.n(s),v=o("/MKj"),b=o("+YNz"),f=o("YG6n"),m=o("awa3"),h=o("vNO3"),g=o.n(h),p=d.a.createElement;t.default=function(e){var t=e.id,o=Object(c.a)(!1),h=Object(n.a)(o,2),w=h[0],O=h[1],j=Object(s.useContext)(i.CurrenciesPageContext),N=j.id,_=j.name,y=Object(s.useState)([0,0]),C=y[0],V=y[1],k=Object(s.useState)(!1),I=k[0],x=k[1],z=Object(v.e)(f.j),E=Object(v.e)(f.A),G=Object(u.d)("voteID"),H=G.value,T=G.setItem,Y=Object(s.useRef)(null),B=Object(s.useRef)(0),D=1===t;Object(s.useEffect)((function(){H&&(Y.current=H)}),[H]);var F=function(e){var t=Object(b.i)((function(){return b.d.vote({cryptoId:N,voted:e?1:2,votedId:Y.current},"POST",E)}));B.current=e?1:2,O((function(){return Object(b.a)(t).then((function(){x(!0),V((function(t){var o=Object(n.a)(t,2),a=o[0],r=o[1];return[a+(e?1:0),r+(e?0:1)]})),r.a.sendEvent({category:"Coin Page Voting",action:e?"Vote Good":"Vote Bad",label:"".concat(_)})}))}))};Object(s.useEffect)((function(){z&&O((function(){var e=Object(b.i)((function(){return b.d.vote({id:N,votedId:H},"GET",E)}));return Object(b.a)(e).then((function(e){var t,o,n=e.data,a=void 0===n?{}:n;V([Number(null===a||void 0===a||null===(t=a.cryptoVoted)||void 0===t?void 0:t.good)||0,Number(null===a||void 0===a||null===(o=a.cryptoVoted)||void 0===o?void 0:o.bad)||0]),a.hasVoted&&x(!0),a.unregisteredId&&(T(a.unregisteredId),Y.current=a.unregisteredId)})).catch((function(e){return console.log("vote fetching error!",e)}))}))}),[z,E]);var J=C[0],P=C[1],R=J+P;return p(d.a.Fragment,null,p("div",{className:g.a.wrapper},I&&C?p(d.a.Fragment,null,p("div",null,p("p",{className:"font_size_16"},p("b",null,"You voted -",B.current?1===B.current?"\ud83d\udc4d Good":"\ud83d\udc4e Bad":null)),p("p",{className:"font_size_14"},"Your vote is for 24 hours. In order to update how you feel about ",_,", come back tomorrow!")),p("div",{className:g.a.actionResult},p(m.a,{low:0,high:R,current:J,hideCaret:!0,style:{width:"100%",height:12,borderRadius:12},colors:["var(--up-color)","var(--down-color)"],leftText:p("span",{className:"font_size_12",style:{color:"var(--color-light-neutral-6)"}},Object(l.e)(100*J/R,{decimal:0})," Good \ud83d\udc4d"),rightText:p("span",{className:"font_size_12",style:{color:"var(--color-light-neutral-6)"}},"\ud83d\udc4e Bad ",Object(l.e)(100*P/R,{decimal:0}))}))):p(d.a.Fragment,null,p("div",null,p("p",{className:"font_size_16"},p("b",null,"How do you feel about ",_," today?")),p("p",{className:"font_size_14"},"Vote to see community results")),p("div",{className:g.a.actionPanel},p(a.b,{disabled:w,onClick:function(){return F(!0)}},"\ud83d\udc4d\xa0\xa0Good"),p(a.b,{disabled:w,onClick:function(){return F(!1)}},"\ud83d\udc4e\xa0\xa0Bad\xa0\xa0\xa0")))),D&&p("div",{className:g.a.analysis},p(d.a.Fragment,null,p("div",null,p("div",null,"Deep Dive"),p("div",null,"Check our ",_," Analysis")),p("svg",{fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"chartOne"},p("path",{d:"M50.5346 0.666748H46.0013C21.068 0.666748 0.667969 21.0667 0.667969 46.0001C0.667969 70.9334 21.068 91.3334 46.0013 91.3334C70.9346 91.3334 91.3346 70.9334 91.3346 46.0001V41.4668H50.5346V0.666748Z",fill:"var(--button-border-color)"})),p("svg",{fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"chartTwo"},p("path",{d:"M4.69567 0.666748H0.332031V48.6667H48.332V44.3031C48.332 20.3031 28.6957 0.666748 4.69567 0.666748Z",fill:"var(--color-light-neutral-7)"})),p("a",{href:"/bitcoin-analytics"},"Check it out"))))}}}]);